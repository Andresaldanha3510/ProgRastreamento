<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contato - TrackBras</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <style>
      :root {
        --brand-color: #3b873e;
        --cta-color: #00a859;
        --dark-bg: #1a1a1a;
        --text-color: #333;
        --text-light: #ffffff;
        --border-color: #ddd;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: "Inter", sans-serif;
        line-height: 1.6;
        color: var(--text-color);
        background-color: #fff;
      }
      main {
        padding-top: 80px;
      }
      h1,
      h2,
      h3 {
        font-weight: 800;
      }
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 5%;
        background-color: rgba(26, 26, 26, 0.9);
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
        backdrop-filter: blur(5px);
        height: 80px;
      }
      .logo-link {
        text-decoration: none;
      }
      .logo-container {
        display: flex;
        align-items: center;
      }
      .logo-container img {
        height: 40px;
        margin-right: 10px;
      }
      .logo-text {
        color: var(--brand-color);
        font-size: 1.8rem;
        font-weight: 800;
        letter-spacing: -1px;
      }
      nav a {
        color: var(--text-light);
        text-decoration: none;
        margin: 0 15px;
        font-weight: 600;
      }
      nav a.btn-cliente {
        background-color: var(--brand-color);
        padding: 8px 16px;
        border-radius: 5px;
      }
      #mobile-menu-button {
        display: none;
        background: none;
        border: none;
        color: white;
        font-size: 1.8rem;
        cursor: pointer;
      }
      .contact-section {
        padding: 80px 20px;
      }
      .contact-header {
        text-align: center;
        margin-bottom: 60px;
      }
      .contact-header h1 {
        font-size: 3rem;
      }
      .contact-container {
        max-width: 1100px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 1fr 1.2fr;
        gap: 60px;
        align-items: center;
      }
      .contact-details {
        list-style: none;
        padding: 0;
      }
      .contact-details li {
        display: flex;
        align-items: flex-start;
        margin-bottom: 25px;
      }
      .contact-details i {
        font-size: 1.5rem;
        color: var(--brand-color);
        width: 30px;
        margin-right: 20px;
      }
      .map-container img {
        width: 100%;
        height: 350px;
        object-fit: cover;
        border-radius: 8px;
      }
      .contact-form {
        background-color: #fff;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      }
      .form-group {
        margin-bottom: 20px;
      }
      .form-group input,
      .form-group select {
        width: 100%;
        padding: 15px;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        font-size: 1rem;
        color: #555;
      }
      .btn-submit {
        width: 100%;
        padding: 15px;
        background-color: var(--cta-color);
        color: var(--text-light);
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
      }
      footer {
        background-color: var(--dark-bg);
        color: #aaa;
        text-align: center;
        padding: 30px 20px;
      }
      footer a {
        color: #fff;
        text-decoration: none;
        margin: 0 10px;
      }
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;
      }
      .modal-overlay.visible {
        opacity: 1;
        visibility: visible;
      }
      .modal-content {
        background: white;
        padding: 40px;
        border-radius: 12px;
        text-align: center;
        max-width: 400px;
        width: 90%;
        position: relative;
        transform: scale(0.9);
        transition: transform 0.3s;
      }
      .modal-overlay.visible .modal-content {
        transform: scale(1);
      }
      .modal-icon {
        font-size: 4rem;
        color: var(--cta-color);
        margin-bottom: 20px;
      }
      .modal-content h2 {
        margin-bottom: 10px;
      }
      .modal-close-btn {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 1.8rem;
        color: #aaa;
        cursor: pointer;
      }
      @media (max-width: 992px) {
        .contact-container {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 768px) {
        nav#main-nav {
          display: none;
        }
        #mobile-menu-button {
          display: block;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <a href="{{ url_for('index') }}" class="logo-link">
        <div class="logo-container">
          <img
            src="{{ url_for('static', filename='brasao.png') }}"
            alt="Logo TrackBras"
          />
          <span class="logo-text">TrackBras</span>
        </div>
      </a>
      <nav id="main-nav">
        <a href="{{ url_for('index') }}#sobre">Sobre</a>
        <a href="{{ url_for('index') }}#servicos">Soluções</a>
        <a href="{{ url_for('contato_page') }}">Contato</a>
        <a href="{{ url_for('planos_page') }}">Nossos planos</a>
        <a href="{{ url_for('politica_privacidade') }}"
          >Politica de privacidade</a
        >
        <a href="{{ url_for('login') }}" class="btn-cliente">Área do Cliente</a>
      </nav>
      <button id="mobile-menu-button"><i class="fas fa-bars"></i></button>
    </header>
    <main>
      <section class="contact-section">
        <div class="contact-header"><h1>Fale Conosco</h1></div>
        <div class="contact-container">
          <div class="contact-info">
            <ul class="contact-details">
              <li>
                <i class="fas fa-map-marker-alt"></i>
                <div><strong>Endereço</strong><br />Curitiba, PR, Brasil</div>
              </li>
              <li>
                <i class="fas fa-phone"></i>
                <div>
                  <strong>Telefone / WhatsApp</strong><br /><a
                    href="https://wa.me/5541987842828"
                    >(41) 98784-2828</a
                  >
                </div>
              </li>
              <li>
                <i class="fas fa-envelope"></i>
                <div>
                  <strong>E-mail</strong><br /><a
                    href="mailto:contato@trackbras.com.br"
                    >contato@trackbras.com.br</a
                  >
                </div>
              </li>
            </ul>
            <div class="map-container">
              <img
                src="{{ url_for('static', filename='curitiba.png') }}"
                alt="Mapa de Curitiba"
              />
            </div>
          </div>
          <div class="contact-form">
            <h3>Agende uma demonstração</h3>
            <form
              id="contatoForm"
              action="{{ url_for('enviar_contato') }}"
              method="POST"
            >
              <div class="form-group">
                <input
                  type="text"
                  name="nome"
                  placeholder="Seu nome*"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="email"
                  name="email"
                  placeholder="Seu e-mail*"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="tel"
                  name="telefone"
                  placeholder="Seu telefone*"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  name="empresa"
                  placeholder="Nome da sua empresa*"
                  required
                />
              </div>
              <div class="form-group">
                <select name="frota">
                  <option value="" disabled selected>Tamanho da frota</option>
                  <option value="1-5">1-5 veículos</option>
                  <option value="6-15">6-15 veículos</option>
                  <option value="16-30">16-30 veículos</option>
                  <option value="31-50">31-50 veículos</option>
                  <option value="50+">Mais de 50 veículos</option>
                </select>
              </div>
              <button type="submit" class="btn-submit">Enviar</button>
            </form>
          </div>
        </div>
      </section>
    </main>
    <footer>
      <p>© 2025 TrackBras. Todos os direitos reservados.</p>
      <div>
        <a href="{{ url_for('index') }}">Página Inicial</a>
        <a href="{{ url_for('politica_privacidade') }}" target="_blank"
          >Política de Privacidade</a
        >
      </div>
    </footer>

    <div id="successModal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <span class="modal-close-btn">&times;</span>
        <i class="fas fa-check-circle modal-icon"></i>
        <h2>Enviado com Sucesso!</h2>
        <p>Em breve, um de nossos consultores entrará em contato com você.</p>
      </div>
    </div>
    <script>
      // --- LÓGICA PARA O MODAL E ENVIO DO FORMULÁRIO ---
      const contatoForm = document.getElementById("contatoForm");
      const successModal = document.getElementById("successModal");
      const closeModalBtn = document.querySelector(".modal-close-btn");

      function openSuccessModal() {
        if (successModal) {
          successModal.style.display = "flex";
          setTimeout(() => successModal.classList.add("visible"), 10);
        }
      }
      function closeSuccessModal() {
        if (successModal) {
          successModal.classList.remove("visible");
          setTimeout(() => (successModal.style.display = "none"), 300);
        }
      }
      if (closeModalBtn)
        closeModalBtn.addEventListener("click", closeSuccessModal);
      if (successModal) {
        successModal.addEventListener("click", function (event) {
          if (event.target === successModal) {
            closeSuccessModal();
          }
        });
      }

      if (contatoForm) {
        contatoForm.addEventListener("submit", function (event) {
          event.preventDefault();
          const formData = new FormData(contatoForm);
          const submitButton = contatoForm.querySelector(
            'button[type="submit"]'
          );
          const originalButtonText = submitButton.textContent;
          submitButton.textContent = "Enviando...";
          submitButton.disabled = true;

          fetch(contatoForm.action, { method: "POST", body: formData })
            .then((response) => response.json())
            .then((data) => {
              if (data.success) {
                contatoForm.reset();
                openSuccessModal();
              } else {
                alert("Erro: " + data.message);
              }
            })
            .catch((error) => {
              console.error("Erro:", error);
              alert("Ocorreu um erro de rede. Tente novamente.");
            })
            .finally(() => {
              submitButton.textContent = originalButtonText;
              submitButton.disabled = false;
            });
        });
      }
    </script>
  </body>
</html>
